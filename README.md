# Проект "Анализ транзакций в мобильном приложении Банка"

## Описание:

Проект "Анализ транзакций в мобильном приложении Банка" - это новая фича для личного кабинета клиента Банка. Это виджет, который позволяет генерирование JSON-данных для веб-страниц, формировать Excel-отчеты, а также предоставлять другие сервисы.

## Установка
1. Клонирование репозитория:

https://github.com/Yauheni89/course_work_1.git

2. Установите необходимые зависимости:

poetry install


## Модуль views.py
Модуль формирует данные для страницы "Главная". Функция views принимает на вход строку с датой и временем в формате
YYYY-MM-DD HH:MM:SS и возвращающую JSON-ответ со следующими данными:
    Приветствие в формате "???", где ??? — «Доброе утро» / «Добрый день» / «Добрый вечер» / «Доброй ночи» в зависимости от текущего времени.
    По каждой карте:
        последние 4 цифры карты;
        общая сумма расходов;
        кешбэк (1 рубль на каждые 100 рублей).
    Топ-5 транзакций по сумме платежа.
    Курс валют.
    Стоимость акций из S&P500.

## Модуль utils.py
Модуль utils содержит вспомогательные функции, необходимые для работы функции страницы «Главная»

### Функция getting_data_account
Функция, которая считывает данные из файла XLSX и преобразовывает в список словарей.

### Функция get_greeting
Функция возвращает приветствие в зависимости от времени дня.

### Функция get_response
Главная функция, которая передает указанную дату и возвращает приветствие.

### Функция filter_by_period
Функция, которая фильтрует список словарей за период с начала месяца до указанной даты.

### Функция information_cards
Функция, которая выводит общую сумму расходов и кэшбэк по каждой карте.

### Функция getting_top_specified_period
Функция, которая возвращает топ-5 транзакций по сумме платежа.

### Функция getting_data_currencies
Функция, которая получает данные о курсе валют из указанного API для заданной валюты.


### Функция getting_data_stock_prices
Функция, которая получает данные о ценах акции из указанного API для заданной акции.


## Модуль reports.py
Модуль reports содержит функцию, в которую пользователь передает строку для поиска и возвращается JSON-ответ со всеми транзакциями, содержащими запрос.



## Модуль services.py
Модуль services содержит фцункцию, возвращает траты по заданной категории за последние три месяца (от переданной даты). Также в данном модуле содержаться декораторы, которые записывают в файл function_report.txt результат, который возвращает функция, формирующая отчет.

## Модуль main.py
Модуль main содержит вызовы результатов из всех моделей. Модуль отвечает за основную логику проекта и связывает функциональности.

## Модуль config.py
Модуль config содержит все необходимые для работы переменные.

# Логирование
В проекте было разработано добавление логов у модулей. Логи перезаписываются в папку logs при каждом запуске функций.

## Автор
Евгений Лампе

